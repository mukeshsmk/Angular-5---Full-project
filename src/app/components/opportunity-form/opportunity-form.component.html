<form (ngSubmit)="onSubmit()" [formGroup]="opportunityForm">
  <div class="container-fluid">
    <div class="card mt-3">
      <div class="card-header pointer">
        Lead Information
      </div>
      <div class="card-body" id="card-lead-information" *ngIf="!visibleOne">
        <div class="row">
          <div class="col-lg-6 col-md-6 col-sm-6" style="padding-bottom: 1px;">
            <div class="form-group">
              <label>Lead Owner</label>
              <b class="m-2">&nbsp;{{ userData.dealer }}</b>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-lg-6 col-md-6 col-sm-6" style="padding-bottom: 1px;">
            <div class="form-group">
              <label>First Name</label>
              <input
                name="first_name__c"
                pattern="[a-zA-Z\sàèéìòù]+"
                type="text"
                class="form-control"
                formControlName="first_name__c"
              />
            </div>
          </div>
          <div class="col-lg-6 col-md-6 col-sm-6" style="padding-bottom: 1px;">
            <div class="form-group">
              <label><span class="red_star">*</span>Last Name</label>
              <input
                type="text"
                name="last_name__c"
                pattern="[a-zA-Z\sàèéìòù]+"
                class="form-control"
                formControlName="last_name__c"
                required=""
              />
              <div
                *ngIf="
                  submitted && opportunityForm.controls.last_name__c.errors
                "
                class="error"
              >
                <div
                  *ngIf="opportunityForm.controls.last_name__c.errors.required"
                >
                  <p class="error-box margin-top-0">
                    Last name is Required
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-lg-6 col-md-6 col-sm-6" style="padding-bottom: 1px;">
            <div class="form-group">
              <label><span class="red_star">*</span>Company</label>
              <input
                type="text"
                name="company__c"
                pattern="[a-zA-Z\sàèéìòù]+"
                class="form-control"
                formControlName="company__c"
                required=""
              />
              <div
                *ngIf="submitted && opportunityForm.controls.company__c.errors"
                class="error"
              >
                <div
                  *ngIf="opportunityForm.controls.company__c.errors.required"
                >
                  <p class="error-box margin-top-0">
                    Company is Required
                  </p>
                </div>
              </div>
            </div>
          </div>
          <div
            class="col-lg-6 col-md-6 col-sm-6"
            style="padding-bottom: 1px;"
            *ngIf="type == 'edit'"
          >
            <div class="form-group">
              <label>Lead Record Type</label>
              <input type="text" class="form-control" />
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-lg-6 col-md-6 col-sm-6" style="padding-bottom: 1px;">
            <div class="form-group">
              <label>Selling Dealer</label>
              <input
                type="text"
                class="form-control"
                name="selling_dealer__c"
                formControlName="selling_dealer__c"
                disabled
              />
            </div>
          </div>
        </div>
        <div class="row">
          <div
            class="col-lg-6 col-md-6 col-sm-6"
            style="padding-bottom: 1px;"
            *ngIf="type == 'edit'"
          >
            <div class="form-group">
              <label>Source</label>
              <select
                class="selcet form-control"
                name="source__c"
                formControlName="source__c"
                value="{{ opportunity.source__c }}"
              >
                <option value="">-- SELECT --</option>
                <option value="Phone"> Phone </option>
                <option value="Internet"> Internet </option>
                <option value="Walk-In"> Walk-In </option>
              </select>
            </div>
          </div>
          <div class="col-lg-6 col-md-6 col-sm-6" style="padding-bottom: 1px;">
            <div class="form-group">
              <label>Phone</label>
              <input
                type="text"
                name="phone__c"
                class="form-control"
                formControlName="phone__c"
              />
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-lg-6 col-md-6 col-sm-6" style="padding-bottom: 1px;">
            <div class="form-group">
              <label><span class="red_star">*</span>Lead Source</label>
              <select
                name="lead_source__c"
                class="selcet form-control"
                required=""
                formControlName="lead_source__c"
                value="{{ opportunity.lead_source__c }}"
              >
                <option value="">-- SELECT --</option>
                <option value="Phone"> Phone </option>
                <option value="Walk-In"> Walk-In </option>
              </select>
              <div
                *ngIf="
                  submitted && opportunityForm.controls.lead_source__c.errors
                "
                class="error"
              >
                <div
                  *ngIf="
                    opportunityForm.controls.lead_source__c.errors.required
                  "
                >
                  <p class="error-box margin-top-0">
                    Lead source is Required
                  </p>
                </div>
              </div>
            </div>
          </div>
          <div class="col-lg-6 col-md-6 col-sm-6" style="padding-bottom: 1px;">
            <div class="form-group">
              <label>Mobile</label>
              <input
                type="text"
                class="form-control"
                formControlName="mobile__c"
              />
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-lg-6 col-md-6 col-sm-6" style="padding-bottom: 1px;">
            <div class="form-group">
              <label><span class="red_star">*</span>Lead Type</label>
              <select
                class="selcet form-control"
                name="lead_type__c"
                required=""
                formControlName="lead_type__c"
                value="{{ opportunity.lead_type__c }}"
              >
                <option value="">-- SELECT --</option>
                <option value="Online">Online</option>
                <option value="Edm">Edm</option>
                <option value="Radio">Radio</option>
              </select>
              <div
                *ngIf="
                  submitted && opportunityForm.controls.lead_type__c.errors
                "
                class="error"
              >
                <div
                  *ngIf="opportunityForm.controls.lead_type__c.errors.required"
                >
                  <p class="error-box margin-top-0">
                    Lead Type is Required
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-lg-6 col-md-6 col-sm-6" style="padding-bottom: 1px;">
            <div class="form-group">
              <label>Lead Status</label>
              <select
                name="lead_status__c"
                class="selcet form-control"
                formControlName="lead_status__c"
              >
                <option value="">-- SELECT --</option>
                <option value="New"> New </option>
                <option value="Working"> Working </option>
                <option value="Appointment"> Appointment </option>
                <option value="Test Drive"> Test Drive </option>
              </select>
            </div>
          </div>
          <div class="col-lg-6 col-md-6 col-sm-6" style="padding-bottom: 1px;">
            <div class="form-group">
              <label>Email</label>
              <input
                type="email"
                name="email__c"
                class="form-control"
                formControlName="email__c"
              />
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-lg-6 col-md-6 col-sm-6" style="padding-bottom: 1px;">
            <div class="form-group">
              <label><span class="red_star">*</span>Request Type</label>
              <select
                name="request_type__c"
                class="selcet form-control"
                required=""
                formControlName="request_type__c"
                value="{{ opportunity.request_type__c }}"
              >
                <option value="">-- SELECT --</option>
                <option value="Test Drive"> Test Drive </option>
                <option value="Digital Brochure Request">
                  Digital Brochure Request
                </option>
                <option value="Contact Us"> Contact Us </option>
                <option value="General Enquiry"> General Enquiry </option>
              </select>
              <div
                *ngIf="
                  submitted && opportunityForm.controls.request_type__c.errors
                "
                class="error"
              >
                <div
                  *ngIf="
                    opportunityForm.controls.request_type__c.errors.required
                  "
                >
                  <p class="error-box margin-top-0">
                    Request type is Required
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="row" *ngIf="type == 'edit'">
          <div class="col-lg-6 col-md-6 col-sm-6" style="padding-bottom: 1px;">
            <div class="form-group">
              <label>Stock Number</label>
              <input
                type="text"
                class="form-control"
                name="stock_number__c"
                formControlName="stock_number__c"
              />
            </div>
          </div>
        </div>

        <div class="row" *ngIf="type == 'edit'">
          <div class="col-lg-6 col-md-6 col-sm-6 mt-2">
            <div class="form-group">
              <label>Introduction To Finance Manager</label>
              
              <input
                type="checkbox"
                name="introduction_to_finance_manager__c"
                value="f"
                formControlName="introduction_to_finance_manager__c"
                style="margin-left: 12px;position: relative;top: 3px;"
              />
            </div>
          </div>
        </div>

        <!-- <div class="row" *ngIf="type == 'edit'">
          <div class="col-lg-6 col-md-6 col-sm-6" style="padding-bottom: 1px;">
            <div class="form-group">
              <label>Stock Number</label>
              <input
                type="text"
                name="vehicle_stock__c"
                id="vehicle_stock__c_lead"
                class="form-control"
              />
            </div>
          </div>
        </div> -->

        <div class="row" *ngIf="type == 'edit'">
          <div class="col-lg-6 col-md-6 col-sm-6" style="padding-bottom: 1px;">
            <div class="form-group">
              <label>Comments From Stock</label>
              <textarea
                name="comments_from_stock__c"
                class="form-control"
                cols="5"
                row="20"
                formControlName="comments_from_stock__c"
              ></textarea>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="card mt-3" *ngIf="type == 'edit'">
      <div class="card-header pointer">
        <a (click)="visibleTwo = !visibleTwo">
          <i class="fa fa-angle-right" *ngIf="visibleTwo"></i>
          <i class="fa fa-angle-down" *ngIf="!visibleTwo"></i>
          Address Information
        </a>
      </div>
      <div id="address-information" class="card-body" *ngIf="!visibleTwo">
        <div class="row"></div>
        <div class="row">
          <div class="col-lg-6 col-md-6 col-sm-6" style="padding-bottom: 1px;">
            <div class="form-group">
              <label>Address</label>
              <textarea class="form-control" cols="5" row="20"> </textarea>
            </div>
          </div>
          <div class="col-lg-6 col-md-6 col-sm-6" style="padding-bottom: 1px;">
            <div class="form-group">
              <label>Street</label>
              <textarea
                name="street__c"
                class="form-control"
                cols="5"
                row="20"
                formControlName="street__c"
              >
              </textarea>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-lg-6 col-md-6col-sm-6" style="padding-bottom: 1px;">
            <div class="form-group">
              <label>City</label>
              <input
                name="city__c"
                type="text"
                class="form-control"
                formControlName="city__c"
              />
            </div>
          </div>
          <div class="col-lg-6 col-md-6 col-sm-6" style="padding-bottom: 1px;">
            <div class="form-group">
              <label>State/Province</label>
              <input
                name="state_province__c"
                type="text"
                class="form-control"
                formControlName="state_province__c"
              />
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-lg-6 col-md-6 col-sm-6" style="padding-bottom: 1px;">
            <div class="form-group">
              <label>Zip/PostalCode</label>
              <input
                name="zip_postal_code__c"
                type="text"
                class="form-control"
                formControlName="zip_postal_code__c"
              />
            </div>
          </div>
          <div class="col-lg-6 col-md-6 col-sm-6" style="padding-bottom: 1px;">
            <div class="form-group">
              <label>Country</label>
              <input
                name="country__c"
                type="text"
                class="form-control"
                formControlName="country__c"
              />
            </div>
          </div>
        </div>
        <!--- end of row -->
      </div>
    </div>

    <div class="card mt-3" *ngIf="type == 'edit'">
      <div class="card-header pointer">
        <a (click)="visibleThree = !visibleThree">
          <i class="fa fa-angle-right" *ngIf="visibleThree"></i>
          <i class="fa fa-angle-down" *ngIf="!visibleThree"></i>
          Customer Insight</a
        >
      </div>
      <div id="customer-insight" class="card-body" *ngIf="!visibleThree">
        <div class="row">
          <div class="col-lg-6 col-md-6 col-sm-6" style="padding-bottom: 1px;">
            <div class="form-group">
              <label>Previous Customer Name</label>
              <input
                type="text"
                name="previous_customer_name__c"
                class="form-control"
                formControlName="previous_customer_name__c"
              />
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-lg-6 col-md-6 col-sm-6" style="padding-bottom: 1px;">
            <div class="form-group">
              <label>Activity Score</label>
              <input
                name="activity_score__c"
                type="number"
                class="form-control"
                formControlName="activity_score__c"
              />
            </div>
          </div>
          <div class="col-lg-6 col-md-6 col-sm-6" style="padding-bottom: 1px;">
            <div class="form-group">
              <label>Customer Data Completeness Score</label>
              <input
                name="customer_data_completeness_score__c"
                type="number"
                class="form-control"
                formControlName="customer_data_completeness_score__c"
              />
            </div>
          </div>
        </div>
        <!--- end of row -->
      </div>
    </div>

    <div class="card mt-3" *ngIf="type == 'edit'">
      <div class="card-header pointer">
        <a (click)="visibleFour = !visibleFour">
          <i class="fa fa-angle-right" *ngIf="visibleFour"></i>
          <i class="fa fa-angle-down" *ngIf="!visibleFour"></i>Additional
          Information
        </a>
      </div>
      <div id="addtional-information" class="card-body" *ngIf="!visibleFour">
        <div class="row">
          <div class="col-lg-6 col-md-6 col-sm-6" style="padding-bottom: 1px;">
            <div class="form-group">
              <label>Current Generator(s)</label>
              <input
                name="currentgenerators__c"
                type="text"
                class="form-control"
                formControlName="currentgenerators__c"
              />
            </div>
          </div>

          <div class="col-lg-6 col-md-6 col-sm-6" style="padding-bottom: 1px;">
            <div class="form-group">
              <label>Primary</label>
              <select
                name="primary__c"
                class="form-control"
                formControlName="primary__c"
                value="{{ opportunity.primary__c }}"
              >
                <option value="">-- SELECT --</option>
                <option value="Yes"> Yes </option>
                <option value="No"> No </option>
              </select>
            </div>
          </div>
        </div>
        <!--- end of row -->
      </div>
    </div>
    <div class="card mt-3 mb-3">
      <div class="card-header pointer">
        <a (click)="visibleFive = !visibleFive">
          <i class="fa fa-angle-right" *ngIf="visibleFive"></i>
          <i class="fa fa-angle-down" *ngIf="!visibleFive"></i>System
          Information</a
        >
      </div>

      <div id="system-information" class="card-body" *ngIf="!visibleFive">
        <div class="row">
          <div class="col-lg-6 col-md-6 col-sm-6" style="padding-bottom: 1px;">
            <div class="form-group">
              <label>Created by:</label>
              <div>
                <b>{{ opportunity.createdbyname }}</b>
              </div>
            </div>
          </div>
          <div class="col-lg-6 col-md-6 col-sm-6" style="padding-bottom: 1px;">
            <div class="form-group">
              <label>Last modified by:</label>
              <div>
                <b>{{ opportunity.lastmodifiedbyname }}</b>
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-lg-6 col-md-6 col-sm-6" style="padding-bottom: 1px;">
            <div class="form-group">
              <label>Created Date:</label>
              <div>
                <b>{{ opportunity.createddate }}</b>
              </div>
            </div>
          </div>
          <div class="col-lg-6 col-md-6 col-sm-6" style="padding-bottom: 1px;">
            <div class="form-group">
              <label>Last modified date:</label>
              <div>
                <b>{{ opportunity.lastmodifieddate }}</b>
              </div>
            </div>
          </div>
        </div>
        <!--- end of row -->
      </div>
    </div>
    <div *ngIf="opportunityForm.invalid && submitted" class="alert-danger text-center">
        Please fill all the details...
      </div>
    <div class="modal-footer">
      <button
        type="button"
        class="btn btn-default"
        data-dismiss="modal"
        (click)="onCloseModal($event)"
      >
        Cancel
      </button>
      <button type="submit" class="btn btn-info">Save</button>
    </div>
  </div>
</form>
